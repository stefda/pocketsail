function GeoJSON(a,b){this.type=a;this.coordinates=b;this.getType=function(){return this.type};this.getCoordinates=function(){return this.coordinates};this.toGeoJSON=function(){return{type:this.type,coordinates:this.coordinates}}};function LatLng(a,b){GeoJSON.apply(this,["Point",[180>=b?-180<=b?b:180+(b-180)%360:-180+(b+180)%360,90<a?90:-90>a?-90:a]]);this.lat=function(){return this.coordinates[1]};this.lng=function(){return this.coordinates[0]};this.toGoogleLatLng=function(){return new google.maps.LatLng(this.lat(),this.lng())};this.toPoint=function(){return new Point(this.coordinates[0],this.coordinates[1])};this.toString=function(){return"LatLng("+this.coordinates[1]+","+this.coordinates[0]+")"}}LatLng.prototype=GeoJSON.prototype;
LatLng.prototype.constructor=LatLng;LatLng.containsLat=function(a,b,c){return!(c>a||c<b)};LatLng.fromGeoJson=function(a){return new LatLng(a.coordinates[1],a.coordinates[0])};LatLng.fromGoogleLatLng=function(a){return new LatLng(a.lat(),a.lng())};function LatLngBounds(a,b){"undefined"===typeof a&&(a=new LatLng(90,180),b=new LatLng(-90,-180));"undefined"===typeof b&&(b=new LatLng(a.lat(),a.lng()));GeoJSON.apply(this,["LatLngBounds",[[a.lng(),a.lat()],[b.lng(),b.lat()]]]);this.extend=function(a){var b=a.lat();a=a.lng();var d=this.coordinates[1][1],f=this.coordinates[1][0],h=this.coordinates[0][1],g=this.coordinates[0][0];d<h?d=h=b:b<h?h=b:b>d&&(d=b);360===g-f?g=f=a:this._eastWestContainsLng(f,g,a)||(this._wrapLng(a,g)<this._wrapLng(f,a)?g=a:
f=a);this.coordinates[1][1]=d;this.coordinates[1][0]=f;this.coordinates[0][1]=h;this.coordinates[0][0]=g};this._wrapLng=function(a,b){var d=b-a;return 0<=d?d:b+180-(a-180)};this._eastWestContainsLng=function(a,b,d){-180===d&&(d=180);return b>a?(d>=b||d<=a)&&360!==b-a:d>=b&&d<=a};this.getNorthEast=function(){return new LatLng(this.coordinates[1][1],this.coordinates[1][0])};this.getSouthWest=function(){return new LatLng(this.coordinates[0][1],this.coordinates[0][0])};this.getNorth=function(){return this.coordinates[1][1]};
this.getEast=function(){return this.coordinates[1][0]};this.getSouth=function(){return this.coordinates[0][1]};this.getWest=function(){return this.coordinates[0][0]};this.getCenter=function(){var a=Proj.latlng2merc(this.getSouthWest()),b=Proj.latlng2merc(this.getNorthEast()),d=a.x()>b.x()?(a.x()+b.x()+2*Math.PI)/2:(a.x()+b.x())/2,a=(a.y()+b.y())/2;return Proj.merc2latLng(new Point(d,a))};this.getMaxZoom=function(a,b,d,f,h,g){g||(h?g=f:f?(h=d,g=f):g=h=f=d=d?d:0);var l=this.getSouthWest(),k=this.getNorthEast();
a-=f+g;b-=d+h;d=Proj.latlng2merc(l);k=Proj.latlng2merc(k);a=Math.log(Proj.DOUBLEPI*a/(Proj.TILESIZE*Math.abs(d.x()-k.x())))/Math.log(2);b=Math.log(Proj.DOUBLEYLIM*b/(Proj.TILESIZE*Math.abs(d.y()-k.y())))/Math.log(2);k=Math.pow(10,Proj.ZOOMPREC);a=Math.round(a*k)/k;b=Math.round(b*k)/k;return Math.max(0,Math.floor(Math.min(a,b)))};this.toPolygon=function(){return new Polygon([[[this.coordinates[0][0],this.coordinates[0][1]],[this.coordinates[0][0],this.coordinates[1][1]],[this.coordinates[1][0],this.coordinates[1][1]],
[this.coordinates[1][0],this.coordinates[0][1]],[this.coordinates[0][0],this.coordinates[0][1]]]])};this.toGoogleLatLngBounds=function(){return new google.maps.LatLngBounds(this.getSouthWest().toGoogleLatLng(),this.getNorthEast().toGoogleLatLng())};this.toString=function(){return"LatLngBounds(("+this.coordinates[0][1]+","+this.coordinates[0][0]+"),("+this.coordinates[1][1]+","+this.coordinates[1][0]+"))"}}LatLngBounds.prototype=GeoJSON.prototype;LatLngBounds.prototype.constructor=LatLngBounds;
LatLngBounds.fromGeoJson=function(a){var b=a.coordinates;a=new LatLng(b[0][1],b[0][0]);b=new LatLng(b[1][1],b[1][0]);return new LatLngBounds(a,b)};LatLngBounds.fromPolygon=function(a){var b=new LatLngBounds;if(0===a.size())return b;a=a.getRing(0);for(var c=0;c<a.length;c++){var e=a[c];b.extend(new LatLng(e[1],e[0]))}return b};LatLngBounds.fromGoogleLatLngBounds=function(a){var b=a.getSouthWest();a=a.getNorthEast();return new LatLngBounds(LatLng.fromGoogleLatLng(b),LatLng.fromGoogleLatLng(a))};function LineString(a){GeoJSON.apply(this,["LineString",a])}LineString.prototype=GeoJSON.prototype;LineString.prototype.constructor=LineString;Point.fromGeoJson=function(a){return new LineString(a.coordinates[0],a.coordinates[1])};function Point(a,b){GeoJSON.apply(this,["Point",[a,b]]);this.x=function(){return this.coordinates[0]};this.y=function(){return this.coordinates[1]};this.toLatLng=function(){return new LatLng(this.y(),this.x())}}Point.prototype=GeoJSON.prototype;Point.prototype.constructor=Point;Point.fromGeoJson=function(a){return new Point(a.coordinates[0],a.coordinates[1])};function Polygon(a){GeoJSON.apply(this,["Polygon",a]);this.getRing=function(a){return this.coordinates[a]};this.size=function(){return this.coordinates.length};this.getPoint=function(a,c){if(a>this.size()-1)throw"PolygonException: Accessing undefined liear ring with index '"+a+"'";if(1<c)throw"PolygonException: Accessing undefined position with index '"+c+"'";var e=this.coordinates[a][c];return new Point(e[0],e[1])};this.toGoogleArray=function(){if(0===this.size())return[];for(var a=[],c=this.getRing(0),
e=0;e<c.length-1;e++)a[e]=new google.maps.LatLng(c[e][1],c[e][0]);return a};this.toString=function(){return"["+this.getRing(0).join()+"]"}}Polygon.prototype=GeoJSON.prototype;Polygon.prototype.constructor=Polygon;Polygon.fromGeoJson=function(a){return new Polygon(a.coordinates)};Polygon.fromGooglePolygon=function(a){a=a.getPath().getArray();for(var b=[[]],c=0;c<a.length;c++)b[0][c]=[a[c].lng(),a[c].lat()];b[0][c]=[a[0].lng(),a[0].lat()];return new Polygon(b)};function Proj(){}Proj.latlng2merc=function(a){var b=a.lat();a=a.lng();a=(180<a?180:-180>a?-180:a)*Proj.DTR;b=-1*Math.log(Math.tan(.5*(Proj.HALFPI- -(85<b?85:-85>b?-85:b)*Proj.DTR)));return new Point(a,b)};Proj.latlng2pixel=function(a,b){var c=this.latlng2merc(a),e=Proj.TILESIZE*Math.pow(2,b),d=Math.round((c.x()+Proj.XLIM)/Proj.DOUBLEPI*e),c=Math.round((c.y()+Proj.YLIM)/Proj.DOUBLEYLIM*e);return new Point(d,c)};
Proj.merc2latLng=function(a){var b=a.x()/Proj.DTR;a=-(Math.atan(Math.pow(Math.E,a.y()))/.5-Proj.HALFPI)/Proj.DTR;return new LatLng(a,b)};Proj.pixel2latLng=function(a,b){var c=Proj.TILESIZE*Math.pow(2,b),e=a.x()/c*Proj.DOUBLEPI-Proj.XLIM,c=a.y()/c*Proj.DOUBLEYLIM-Proj.YLIM;return this.merc2latLng(new Point(e,c))};Proj.TILESIZE=256;Proj.ZOOMPREC=3;Proj.HALFPI=Math.PI/2;Proj.DTR=Math.PI/180;Proj.YLIM=3.1313013314716462;Proj.DOUBLEYLIM=2*Proj.YLIM;Proj.XLIM=Math.PI;Proj.DOUBLEPI=2*Math.PI;
